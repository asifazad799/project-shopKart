


<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/dataTables.jqueryui.min.css">
 <section class="mt-0 pt-0 d-flex justify-content-center loginForm" >
    <div class="container cl-10 col-sm-8 col-md-6 col-lg-5 pt-0 mt-4 mb-4">
        <div class="row pb-2 p-5" style="background-color: #eeeeee; border-radius: 6px;  box-shadow:  0px 0px 20px 2px  rgb(187, 187, 187)">
            <form class="pt-0" id="coupon" action="/admin/addNewCoupon" method="POST">
                <h3 class="text-center loginTitle">Add new coupon</h3>
                {{#if sameProductOfferErr}}
                    <div class="d-flex justify-content-center">

                        <p class="text-danger">Offer already exist</p>
                    </div>
                {{/if}}
                <div class="row">

                    <div class="col-lg-12 pt-1">
                        <label for="browser">Coupon Code</label>
                        <input type="text" name="couponCode" id="browser" style="width: 100%; padding: 3.9px; border: 1px solid rgb(206, 212, 218);border-radius: 4px;">
                        

                    </div>
                   
                </div>
                <div class="row pt-1">

                    <div class="col-6">

                        <label for="startingDate">Starting date</label>
                        <input type="date"  id="startingDate" name="startingDate" onchange="hai()" style="padding: 6px; border-radius: 4px; border: 1px solid #ced4da; width:100%">
                        
                    </div>

                    
                    <div class="col-6">

                        <label for="expairyDate">Expairy date</label>
                        <input type="date" id="expairyDate" name="expairyDate"  style="padding: 6px; border-radius: 4px; border: 1px solid #ced4da; width:100%">
                        
                    </div>
                </div>
                <div class="row justify-content-center mt-2">
                    <div class="col-6">

                        <label  class="">Offer in Percentege</label>
                        <input type="text" class="form-control"  id="offer" name="offer">

                    </div>
                </div>
                        
                <div class="cl-lg-4 text-center mb-0 mt-4">

                    <button type="submit" class="btn btn-primary loginFormButton" style="width: 90px;">Add</button>

                </div>
            </form>
        </div>
    </div>
</section>   
 
<div class="" style="display: flex; justify-content: space-around;">


<div class="col-8 p-4 mt-4  " style="background-color: #f9f9fa; border-radius:4px; border-radius:4px;box-shadow:  0px 0px 19px 3px  rgb(220, 220, 220)">
    <h4 class="text-center ms-4">View all Coupons</h4>
   
    <table id="categoryTable1" class="display text-center" style="width:100%; font-size:15px !important;  width:720px">
        <thead style="font-size: 15px;">
            <tr >
                <th>Index</th>
                <th>Coupon Code</th>
                <th>off</th>
                <th>Starting Date</th>
                <th>Expiry Date</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
        {{#each response}}
        <tr>
            <td>{{@index}}</td>
            
            <td>{{this.couponCode}}</td>
            <td>{{this.offer}}</td>
          
            <td>
                {{this.startingDate}}
            </td>
            <td>
                {{this.expairyDate}}
            </td>
            <td>
                <dl class="">

                    <a href="/admin/editCoupon?couponId={{this._id}}" ><i class="far fa-edit "></i></a>
                    <a onclick="deleteProductOffer12('{{this._id}}','{{this.productName}}')" ><i class="far fa-trash-alt text-danger ms-3"></i></a>
                </dl>
                    
            </td>
            
               
        </tr>  
        {{/each}}
        </tbody>
        
        

    </table>
            </div>

     
        
        </div>
    </div>
</main>

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>

    

   
     $(document).ready(function() {

        $('#coupon').validate({

            rules:{
                couponCode:{
                    required:true
                },
                startingDate:{
                    required:true
                },
                expairyDate:{
                    required:true
                },
                offer:{
                    required:true,
                    max:70
                }
            },
            messages:{
                offer:{
                    max:"Please enter below 70"
                }
            }

        })

        $('#categoryTable1').DataTable(); 

     

    } )

        //console.log('asif')


     
</script>